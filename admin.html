<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Panel de Administración - ARMAVE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:ital,wght@0,100;0,300;0,400;0,500;0,700;0,800;0,900;1,100;1,300;1,400;1,500;1,700;1,800;1,900&family=Oleo+Script:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="styles/styles.css" />
    <link rel="icon" href="images/logo.png" />
  </head>
  <body>
    <!-- Cabecera -->
    <header class="bg-white text-dark text-center py-3">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col-12 col-lg-2">
            <a href="index.html">
              <img
                src="images/image-17.png"
                alt="Logo de la empresa"
                class="img-fluid"
                width="100"
              />
            </a>
          </div>
          <div class="col-12 col-lg-10">
            <nav
              class="navbar navbar-expand-lg navbar-light bg-white justify-content-between"
            >
              <button
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarNav"
              >
                <span class="navbar-toggler-icon"></span>
              </button>
              <div
                class="navbar-collapse collapse justify-content-end"
                id="navbarNav"
              >
                <ul class="navbar-nav ms-auto">
                  <li class="nav-item">
                    <a class="nav-link" href="index.html">Inicio</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="sobre-nosotros.html"
                      >Sobre Nosotros</a
                    >
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="servicios.html">Servicios</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="contratenos.html">Contrátenos</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="grafico.html">Gráfico</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="ayuda.html">Ayuda</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="admin.html">Admin</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="php/logout.php">Cerrar Sesión</a>
                  </li>
                </ul>
              </div>
            </nav>
          </div>
        </div>
      </div>
    </header>

    <!-- Contenido principal -->
    <div class="container mt-4">
      <!-- Administrar Servicios -->
      <div id="adminServicios" class="mt-4 mx-auto">
        <h2>Administrar Servicios</h2>
        <form id="formularioServicio">
          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#modalServicios"
          >
            Añadir/Modificar Servicio
          </button>
          <!-- Modal para Servicios -->
          <div class="modal" id="modalServicios" tabindex="-1">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h3>Añadir/Modificar Servicio</h3>
                  <button
                    type="button"
                    class="btn btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <form id="addServiceForm">
                    <div class="mb-3">
                      <label for="nombreServicio" class="form-label"
                        >Nombre del Servicio:</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="nombreServicio"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="descripcionServicio" class="form-label"
                        >Descripción del Servicio:</label
                      >
                      <textarea
                        class="form-control"
                        id="descripcionServicio"
                        rows="3"
                        required
                      ></textarea>
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancelar
                  </button>
                  <button
                    type="button"
                    class="btn btn-primary"
                    id="submitServicioBtn"
                  >
                    Añadir
                  </button>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>

      <!-- Administrar Lugares -->
      <div id="adminLugares" class="mt-4 mx-auto">
        <h2>Administrar Lugares</h2>
        <form id="formularioLugar">
          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#modalLugares"
          >
            Añadir/Modificar Lugar
          </button>
          <!-- Modal para Lugares -->
          <div class="modal" id="modalLugares" tabindex="-1">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h3>Añadir/Modificar Lugar</h3>
                  <button
                    type="button"
                    class="btn btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <form id="addLugarForm">
                    <div class="mb-3">
                      <label for="nombreLugar" class="form-label"
                        >Nombre del Lugar:</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="nombreLugar"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="descripcionLugar" class="form-label"
                        >Dirección del Lugar:</label
                      >
                      <textarea
                        class="form-control"
                        id="descripcionLugar"
                        rows="3"
                        required
                      ></textarea>
                    </div>
                    <div class="mb-3">
                      <label for="imagenLugar" class="form-label"
                        >Imagen del Lugar:</label
                      >
                      <input
                        type="file"
                        class="form-control"
                        id="imagenLugar"
                        required
                      />
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancelar
                  </button>
                  <button
                    type="button"
                    class="btn btn-primary"
                    id="submitLugarBtn"
                  >
                    Añadir
                  </button>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>

      <!-- Administrar Personal -->
      <div id="adminPersonal" class="mt-4 mx-auto">
        <h2>Administrar Personal</h2>
        <form id="formularioPersonal">
          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#modalPersonal"
          >
            Añadir/Modificar Personal
          </button>
          <!-- Modal para Personal -->
          <div class="modal" id="modalPersonal" tabindex="-1">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h3>Añadir/Modificar Información de Personal</h3>
                  <button
                    type="button"
                    class="btn btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <form id="addPersonalForm">
                    <div class="mb-3">
                      <label for="nombrePersona" class="form-label"
                        >Nombre y apellidos de la Persona:</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="nombrePersona"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="cargoPersona" class="form-label"
                        >Cargo de la Persona:</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="cargoPersona"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="imagenPersona" class="form-label"
                        >Imagen de la persona:</label
                      >
                      <input
                        type="file"
                        class="form-control"
                        id="imagenPersonal"
                        required
                      />
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancelar
                  </button>
                  <button
                    type="button"
                    class="btn btn-primary"
                    id="submitPersonalBtn"
                  >
                    Añadir
                  </button>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>

    <!-- Pie de página -->
    <footer
      class="bg-white text-dark text-center py-3"
      style="position: fixed; bottom: 0; width: 100%"
    >
      <div class="container">
        <p>&copy; 2024 ARMAVE S.A. Todos los derechos reservados.</p>
      </div>
    </footer>

    <!-- Scripts de Bootstrap y jQuery -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
    <script>
      // Función para enviar los formularios a través de AJAX
      function enviarFormulario(url, data) {
        fetch(url, {
          method: "POST",
          body: JSON.stringify(data),
          headers: { "Content-Type": "application/json" },
        })
          .then((response) => response.json())
          .then((data) => {
            if (data.status === "success") {
              alerta("", "Elemento añadido o modificado correctamente.");
            } else {
              alerta("Error", "Error al añadir/modificar el elemento.");
            }
          })
          .catch((error) => console.error("Error:", error));
      }

      // Administrar Servicios
      document
        .getElementById("submitServicioBtn")
        .addEventListener("click", function () {
          const nombreServicio =
            document.getElementById("nombreServicio").value;
          const descripcionServicio = document.getElementById(
            "descripcionServicio"
          ).value;

          if (nombreServicio && descripcionServicio) {
            enviarFormulario("php/insertar_servicio.php", {
              nombre: nombreServicio,
              descripcion: descripcionServicio,
            });
          } else {
            alerta("Administración", "Por favor, completa todos los campos.");
          }
        });

      // Administrar Lugares
      document
        .getElementById("submitLugarBtn")
        .addEventListener("click", function () {
          const nombreLugar = document.getElementById("nombreLugar").value;
          const descripcionLugar =
            document.getElementById("descripcionLugar").value;

          if (nombreLugar && descripcionLugar) {
            enviarFormulario("php/insertar_lugar.php", {
              nombre: nombreLugar,
              descripcion: descripcionLugar,
            });
          } else {
            alerta("Administración", "Por favor, completa todos los campos.");
          }
        });

      // Administrar Personal
      document
        .getElementById("submitPersonalBtn")
        .addEventListener("click", function () {
          const nombrePersona = document.getElementById("nombrePersona").value;
          const cargoPersona = document.getElementById("cargoPersona").value;

          if (nombrePersona && cargoPersona) {
            enviarFormulario("php/insertar_personal.php", {
              nombre: nombrePersona,
              cargo: cargoPersona,
            });
          } else {
            alerta("Administración", "Por favor, completa todos los campos.");
          }
        });
    </script>
  </body>
</html>
